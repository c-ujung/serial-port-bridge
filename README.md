# 串口端口管理器

一个基于Java的串口虚拟化系统，支持远程串口访问和管理。

## 功能特性

### 服务端
- 提供Web管理界面，显示连接的节点和客户端
- 支持节点端和客户端的一对多配对
- 实时监控连接状态和串口映射
- 无需数据库，轻量级部署

### 节点端
- 连接物理串口设备
- 支持多个串口同时管理
- 自动检测串口状态变化
- 实时数据转发到客户端

### 客户端
- 支持灵活的串口映射配置
- **节点端串口A** → **客户端虚拟串口B**
- **节点端串口C** → **客户端虚拟串口D**
- 支持一对多、多对一的映射关系
- 每个映射独立配置波特率
- 数据流向完全可控
- 通过外部工具创建虚拟串口（如com0com、socat等）

## 系统架构

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   节点端    │    │   服务端    │    │   客户端    │
│  (物理串口) │◄──►│  (中转站)   │◄──►│  (虚拟串口) │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 核心特性

### 1. 灵活的串口映射
- 支持自定义映射关系
- 独立的数据流控制
- 灵活的波特率配置

### 2. 多串口支持
- 节点端可同时管理多个物理串口
- 客户端可创建多个虚拟串口映射
- 支持复杂的串口配置场景

### 3. 网络穿透支持
- 服务端可部署在公网服务器
- 支持内网节点和客户端连接
- 提供网络配置脚本

## 快速开始

### 编译项目
```bash
mvn clean package -DskipTests
```

## 使用流程

### 1. 基础配置
1. 启动服务端
2. 使用外部工具创建虚拟串口对
3. 启动节点端和客户端

### 2. 建立连接
1. 客户端与节点端配对
2. 查看节点端可用串口
3. 创建串口映射

### 3. 串口映射
```bash
# 创建映射：节点端COM1 → 客户端COM10
> map COM1 COM10 9600

# 查看映射状态
> mappings

# 移除映射
> unmap COM1
```

## 串口映射说明

### 映射关系
- **一对一映射**: 节点端串口 → 客户端虚拟串口
- **一对多映射**: 一个物理串口映射到多个虚拟串口
- **多对一映射**: 多个物理串口映射到同一虚拟串口

### 数据流向
```
物理设备 → 节点端 → 服务端 → 客户端 → 虚拟串口 → 本地应用
```

### 应用场景
- **设备监控**: 不同传感器映射到不同监控软件
- **数据采集**: 多个设备数据采集到不同系统
- **设备控制**: 不同控制器映射到不同控制软件

## 网络部署

### 公网部署
1. 将服务端部署到公网服务器
2. 配置防火墙规则
3. 使用网络穿透工具连接内网设备

## 文档说明

- **README.md**: 项目概述和快速开始
- **MULTI_PORT_USAGE.md**: 多串口使用指南

## 技术栈

- **Java 17+**
- **Spring Boot 3.2.5**
- **Netty 4.1.110.Final**
- **jSerialComm**
- **Maven**

## 许可证

MIT License 
